<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vidyucation</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Custom CSS for elements Tailwind doesn't easily control.
          - Background gradient circles
          - Custom scrollbar (webkit)
          - Google Fonts 'Inter'
        */
        :root {
            --primary: #6366f1;
            --secondary: #8b5cf6;
            --accent: #f59e0b;
            --accent-light: #fbbf24;
            --light: #f8fafc;
        }

        body {
            font-family: 'Inter', sans-serif;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #4f46e5;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6366f1;
        }

        /* Background Animated Circles */
        .bg-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        .bg-circle {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px); /* Increased blur */
            opacity: 0.15;
            animation: float 15s infinite ease-in-out alternate;
        }
        .circle-1 {
            width: 400px;
            height: 400px;
            background: var(--primary);
            top: -100px;
            left: -100px;
            animation-duration: 20s;
        }
        .circle-2 {
            width: 300px;
            height: 300px;
            background: var(--secondary);
            bottom: -50px;
            right: 10%;
            animation-duration: 25s;
            animation-delay: -5s;
        }
        .circle-3 {
            width: 250px;
            height: 250px;
            background: var(--accent);
            top: 40%;
            left: 60%;
            animation-duration: 30s;
            animation-delay: -10s;
        }

        @keyframes float {
            0% {
                transform: translateY(0px) translateX(0px) rotate(0deg);
            }
            100% {
                transform: translateY(-40px) translateX(20px) rotate(20deg);
            }
        }
        
        /* Custom styles for form inputs */
        .input-with-icon input,
        .form-group select {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--light);
            font-size: 16px;
            transition: all 0.3s ease;
        }
        .input-with-icon input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.08);
        }
        
        /* Custom select for webkit */
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%2394a3b8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>');
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1.2em;
            padding-right: 2.5rem; /* Make space for arrow */
        }
        
        select option {
            background: #1e293b;
            color: white;
        }
        
        /* Modal transitions */
        .modal {
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        
        /* Hide/Show utility */
        .hidden {
            display: none !important;
        }
    </style>
    
    <script>
        // Configure Tailwind CSS
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        primary: '#6366f1',
                        'primary-dark': '#4f46e5',
                        secondary: '#8b5cf6',
                        accent: '#f59e0b',
                        'accent-light': '#fbbf24',
                        light: '#f8fafc',
                        dark: '#1e293b',
                        'dark-light': '#334155',
                        gray: '#64748b',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#334155] text-light font-inter min-h-screen overflow-x-hidden">

    <!-- Background Elements -->
    <div class="bg-elements">
        <div class="bg-circle circle-1"></div>
        <div class="bg-circle circle-2"></div>
        <div class="bg-circle circle-3"></div>
    </div>

    <!-- Header Section -->
    <header class="sticky top-0 z-50 p-4">
        <div class="max-w-6xl mx-auto">
            <!-- Glassmorphism header content -->
            <div class="flex flex-wrap justify-between items-center p-4 md:p-5 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 shadow-lg">
                
                <!-- Logo -->
                <div class="logo flex items-center gap-3">
                    <div class="logo-icon w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center shadow-md text-white text-xl">
                        <!-- Replaced Font Awesome with SVG -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
                    </div>
                    <div class="logo-text text-2xl font-bold bg-gradient-to-r from-light to-slate-300 bg-clip-text text-transparent">Vidyucation</div>
                </div>

                <!-- Mobile Menu Button (Hamburger) -->
                <button id="mobileMenuBtn" class="md:hidden p-2 rounded-lg text-slate-200 hover:bg-white/10 transition-colors">
                    <svg id="menuIconOpen" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="block">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                    <svg id="menuIconClose" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>

                <!-- Navigation & Auth (Wrapper for mobile) -->
                <div id="mobileMenu" class="hidden md:flex flex-col md:flex-row md:items-center gap-6 md:gap-4 w-full md:w-auto mt-4 md:mt-0">
                    <!-- Navigation -->
                    <nav>
                        <ul class="flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-4">
                            <li><a href="#" class="flex items-center gap-2 px-4 py-2 rounded-lg text-slate-200 hover:bg-white/10 hover:text-accent-light transition-all">
                                <!-- SVG Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                                Home
                            </a></li>
                            <li><a href="#" class="flex items-center gap-2 px-4 py-2 rounded-lg text-slate-200 hover:bg-white/10 hover:text-accent-light transition-all">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                                Practice
                            </a></li>
                            <li><a href="#" class="flex items-center gap-2 px-4 py-2 rounded-lg text-slate-200 hover:bg-white/10 hover:text-accent-light transition-all">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>
                                Tests
                            </a></li>
                            <!-- Removed other links for brevity, add them back as needed -->
                        </ul>
                    </nav>

                    <!-- Auth Buttons -->
                    <div class="auth-buttons flex flex-col md:flex-row gap-3 mt-4 md:mt-0 md:ml-4" id="authContainer">
                        <!-- Logged-out state -->
                        <div id="loggedOutButtons" class="flex flex-col md:flex-row gap-3 w-full md:w-auto">
                            <button class="btn btn-outline login-btn w-full md:w-auto flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg font-medium bg-transparent border border-white/20 text-white hover:bg-white/10 transition-all duration-300">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg>
                                Login
                            </button>
                            <button class="btn btn-primary signup-btn w-full md:w-auto flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg font-medium bg-gradient-to-r from-primary to-secondary text-white shadow-lg hover:shadow-primary/50 transition-all duration-300 transform hover:-translate-y-px">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg>
                                Sign Up
                            </button>
                        </div>
                        
                        <!-- Logged-in state -->
                        <div id="loggedInProfile" class="user-profile hidden flex-col md:flex-row items-start md:items-center gap-3">
                            <div class="flex items-center gap-3">
                                <div class="user-avatar w-10 h-10 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center font-semibold overflow-hidden" id="userAvatar">
                                    <!-- Avatar content (initial or image) goes here -->
                                </div>
                                <span class="user-name font-semibold text-light" id="userNameDisplay"></span>
                            </div>
                            <button class="btn btn-outline w-full md:w-auto flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg font-medium bg-transparent border border-white/20 text-white hover:bg-white/10 transition-all duration-300" id="signOutBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                Sign Out
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero py-20 md:py-32 text-center relative overflow-hidden">
            <div class="container max-w-6xl mx-auto px-6">
                <div class="hero-content max-w-3xl mx-auto relative z-10">
                    <div class="hero-badge inline-flex items-center gap-2 bg-yellow-500/10 border border-yellow-500/30 text-yellow-300 px-4 py-1.5 rounded-full text-sm font-medium mb-6 backdrop-blur-sm">
                        <!-- Rocket Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                        <span>NEET 2026 Preparation Started</span>
                    </div>
                    <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent leading-tight">Track Your NEET Learning Progress</h1>
                    <p class="text-lg md:text-xl text-slate-300 mb-10 max-w-xl mx-auto">Monitor your performance, identify strengths and weaknesses, and achieve your goals with Vidyucation's learning platform.</p>
                    <div class="hero-buttons flex flex-col sm:flex-row justify-center items-center gap-4">
                        <button class="btn btn-primary btn-large practice-btn w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-3.5 text-base font-semibold rounded-lg bg-gradient-to-r from-primary to-secondary text-white shadow-lg hover:shadow-primary/50 transition-all duration-300 transform hover:-translate-y-px">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg>
                            Start Practicing Now
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Progress Section -->
        <section class="progress-section py-16 md:py-24">
            <div class="container max-w-6xl mx-auto px-6">
                <h2 class="section-title text-3xl md:text-4xl font-bold text-center mb-4">Track Your Learning Progress</h2>
                <p class="section-subtitle text-base md:text-lg text-slate-300 max-w-2xl mx-auto text-center mb-12">Monitor your performance, identify strengths and weaknesses, and achieve your goals with Vidyucation's comprehensive tracking system.</p>
                
                <div class="progress-container grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Progress Card 1 -->
                    <div class="progress-card p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 shadow-xl text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
                        <div class="progress-value text-5xl font-bold mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">4.0</div>
                        <div class="progress-label text-slate-300 font-medium">Overall Score</div>
                    </div>
                    <!-- Progress Card 2 -->
                    <div class="progress-card p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 shadow-xl text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
                        <div class="progress-value text-5xl font-bold mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">92.5%</div>
                        <div class="progress-label text-slate-300 font-medium">Accuracy</div>
                    </div>
                    <!-- Progress Card 3 -->
                    <div class="progress-card p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 shadow-xl text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
                        <div class="progress-value text-5xl font-bold mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">8/12</div>
                        <div class="progress-label text-slate-300 font-medium">Completed Topics</div>
                    </div>
                    <!-- Progress Card 4 -->
                    <div class="progress-card p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 shadow-xl text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
                        <div class="progress-value text-5xl font-bold mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">14</div>
                        <div class="progress-label text-slate-300 font-medium">Tests Taken</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features-section py-16 md:py-24">
            <div class="container max-w-6xl mx-auto px-6">
                <h2 class="section-title text-3xl md:text-4xl font-bold text-center mb-4">Experience Learning Like Never Before</h2>
                <p class="section-subtitle text-base md:text-lg text-slate-300 max-w-2xl mx-auto text-center mb-12">Stay motivated, track your progress, and connect with a community‚Äîall in one platform.</p>
                
                <div class="features-grid grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Feature Card 1 -->
                    <div class="feature-card p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 shadow-xl transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl relative overflow-hidden">
                        <div class="absolute top-0 left-0 h-1 w-full bg-gradient-to-r from-primary to-secondary"></div>
                        <div class="feature-icon w-16 h-16 rounded-xl flex items-center justify-center mb-6 bg-primary/10 border border-primary/20 text-primary text-3xl">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8V5"></path><path d="M10 2h4"></path><path d="M12 22v-3"></path><path d="M22 12h-3"></path><path d="M5 12H2"></path><path d="M17.61 6.39l-2.12-2.12"></path><path d="M8.51 15.49l-2.12-2.12"></path><path d="M17.61 17.61l-2.12 2.12"></path><path d="M8.51 8.51l-2.12 2.12"></path><circle cx="12" cy="12" r="2"></circle></svg>
                        </div>
                        <h3 class="feature-title text-xl font-semibold mb-3">Smart Learning</h3>
                        <p class="feature-desc text-slate-300 mb-6">Adaptive learning technology that identifies your weak areas and focuses on them with personalized content.</p>
                        <button class="btn btn-outline px-5 py-2.5 rounded-lg font-medium bg-transparent border border-white/20 text-white hover:bg-white/10 transition-all duration-300">Learn More</button>
                    </div>
                    <!-- Feature Card 2 -->
                    <div class="feature-card p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 shadow-xl transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl relative overflow-hidden">
                        <div class="absolute top-0 left-0 h-1 w-full bg-gradient-to-r from-primary to-secondary"></div>
                        <div class="feature-icon w-16 h-16 rounded-xl flex items-center justify-center mb-6 bg-primary/10 border border-primary/20 text-primary text-3xl">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20V10"></path><path d="M18 20V4"></path><path d="M6 20V16"></path></svg>
                        </div>
                        <h3 class="feature-title text-xl font-semibold mb-3">Performance Analytics</h3>
                        <p class="feature-desc text-slate-300 mb-6">Detailed insights into your performance with actionable feedback for improvement and growth tracking.</p>
                        <button class="btn btn-outline px-5 py-2.5 rounded-lg font-medium bg-transparent border border-white/20 text-white hover:bg-white/10 transition-all duration-300">Learn More</button>
                    </div>
                    <!-- Feature Card 3 -->
                    <div class="feature-card p-8 rounded-2xl bg-white/5 backdrop-blur-lg border border-white/10 shadow-xl transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl relative overflow-hidden">
                        <div class="absolute top-0 left-0 h-1 w-full bg-gradient-to-r from-primary to-secondary"></div>
                        <div class="feature-icon w-16 h-16 rounded-xl flex items-center justify-center mb-6 bg-primary/10 border border-primary/20 text-primary text-3xl">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                        </div>
                        <h3 class="feature-title text-xl font-semibold mb-3">Community Support</h3>
                        <p class="feature-desc text-slate-300 mb-6">Connect with fellow NEET aspirants, share knowledge, ask questions, and grow together.</p>
                        <button class="btn btn-outline px-5 py-2.5 rounded-lg font-medium bg-transparent border border-white/20 text-white hover:bg-white/10 transition-all duration-300">Learn More</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Question Bank Section -->
        <section class="question-bank py-16 md:py-24">
            <div class="container max-w-6xl mx-auto px-6">
                <div class="question-bank-content rounded-3xl p-8 md:p-16 bg-gradient-to-br from-primary/10 to-secondary/10 backdrop-blur-lg border border-white/10 shadow-2xl">
                    <h2 class="section-title text-3xl md:text-4xl font-bold text-center mb-4">Massive NEET Question Bank</h2>
                    <p class="section-subtitle text-base md:text-lg text-slate-300 max-w-2xl mx-auto text-center mb-12">Access over 45,000+ questions from previous years and curated by subject matter experts.</p>
                    
                    <div class="stats-container grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="stat-card p-6 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 text-center transition-all duration-300 hover:-translate-y-1.5 hover:bg-white/10">
                            <div class="stat-value text-4xl font-bold mb-1.5 bg-gradient-to-r from-accent-light to-accent bg-clip-text text-transparent">45K+</div>
                            <div class="stat-label text-slate-300 text-sm">Practice Questions</div>
                        </div>
                        <div class="stat-card p-6 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 text-center transition-all duration-300 hover:-translate-y-1.5 hover:bg-white/10">
                            <div class="stat-value text-4xl font-bold mb-1.5 bg-gradient-to-r from-accent-light to-accent bg-clip-text text-transparent">12+</div>
                            <div class="stat-label text-slate-300 text-sm">Years of PYQs</div>
                        </div>
                        <div class="stat-card p-6 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 text-center transition-all duration-300 hover:-translate-y-1.5 hover:bg-white/10">
                            <div class="stat-value text-4xl font-bold mb-1.5 bg-gradient-to-r from-accent-light to-accent bg-clip-text text-transparent">100%</div>
                            <div class="stat-label text-slate-300 text-sm">Syllabus Coverage</div>
                        </div>
                        <div class="stat-card p-6 rounded-2xl bg-white/5 backdrop-blur-md border border-white/10 text-center transition-all duration-300 hover:-translate-y-1.5 hover:bg-white/10">
                            <div class="stat-value text-4xl font-bold mb-1.5 bg-gradient-to-r from-accent-light to-accent bg-clip-text text-transparent">3</div>
                            <div class="stat-label text-slate-300 text-sm">Difficulty Levels</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Test Creation Section -->
        <section class="test-creation py-16 md:py-24 text-center">
            <div class="container max-w-6xl mx-auto px-6">
                <div class="test-creation-content max-w-3xl mx-auto p-8 md:p-12 rounded-3xl bg-white/5 backdrop-blur-lg border border-white/10 shadow-2xl">
                    <h2 class="text-3xl md:text-4xl font-bold mb-5">Create Unlimited Custom Tests for NEET - Free!</h2>
                    <p class="text-base md:text-lg text-slate-300 mb-8">Design your own tests based on topics, difficulty levels, and time constraints. Perfect for targeted practice and revision.</p>
                    <button class="btn btn-primary btn-large create-test-btn flex items-center justify-center gap-2 px-8 py-3.5 text-base font-semibold rounded-lg bg-gradient-to-r from-primary to-secondary text-white shadow-lg hover:shadow-primary/50 transition-all duration-300 transform hover:-translate-y-px mx-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                        Create Your First Test
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900/80 backdrop-blur-lg border-t border-white/10 pt-16 pb-8 mt-24">
        <div class="container max-w-6xl mx-auto px-6">
            <div class="footer-content grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 mb-12">
                <!-- Column 1 -->
                <div class="footer-column sm:col-span-2 md:col-span-1">
                    <h3 class="text-lg font-semibold mb-5 relative pb-2">Vidyucation</h3>
                    <div class="absolute bottom-0 left-0 w-10 h-0.5 bg-gradient-to-r from-primary to-secondary"></div>
                    <p class="text-slate-300 text-sm leading-relaxed">Your comprehensive NEET preparation platform with advanced tracking, analytics, and personalized learning paths.</p>
                </div>
                <!-- Column 2 -->
                <div class="footer-column">
                    <h3 class="text-lg font-semibold mb-5 relative pb-2">Quick Links</h3>
                    <div class="absolute bottom-0 left-0 w-10 h-0.5 bg-gradient-to-r from-primary to-secondary"></div>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-slate-300 text-sm hover:text-accent-light hover:pl-1.5 transition-all flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                            Home
                        </a></li>
                        <li><a href="#" class="text-slate-300 text-sm hover:text-accent-light hover:pl-1.5 transition-all flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                            Practice Tests
                        </a></li>
                        <li><a href="#" class="text-slate-300 text-sm hover:text-accent-light hover:pl-1.5 transition-all flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                            Performance
                        </a></li>
                    </ul>
                </div>
                <!-- Column 3 -->
                <div class="footer-column">
                    <h3 class="text-lg font-semibold mb-5 relative pb-2">Resources</h3>
                    <div class="absolute bottom-0 left-0 w-10 h-0.5 bg-gradient-to-r from-primary to-secondary"></div>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-slate-300 text-sm hover:text-accent-light hover:pl-1.5 transition-all flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                            NEET Syllabus
                        </a></li>
                        <li><a href="#" class="text-slate-300 text-sm hover:text-accent-light hover:pl-1.5 transition-all flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                            Previous Year Papers
                        </a></li>
                    </ul>
                </div>
                <!-- Column 4 -->
                <div class="footer-column">
                    <h3 class="text-lg font-semibold mb-5 relative pb-2">Contact Us</h3>
                    <div class="absolute bottom-0 left-0 w-10 h-0.5 bg-gradient-to-r from-primary to-secondary"></div>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-slate-300 text-sm hover:text-accent-light hover:pl-1.5 transition-all flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                            Support
                        </a></li>
                        <li><a href="#" class="text-slate-300 text-sm hover:text-accent-light hover:pl-1.5 transition-all flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                            Feedback
                        </a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright text-center pt-8 border-t border-white/10 text-slate-400 text-sm">
                <p>&copy; 2025 Vidyucation. All rights reserved. | Designed with ‚ù§Ô∏è for NEET</p>
            </div>
        </div>
    </footer>

    <!-- 
    ========================================
    MODALS
    ========================================
    -->

    <!-- Login Modal -->
    <div id="loginModal" class="modal fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 opacity-0 pointer-events-none invisible">
        <div class="modal-content bg-slate-800/95 backdrop-blur-xl border border-white/10 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden transform scale-95 opacity-0">
            <!-- Modal Header -->
            <div class="modal-header p-6 text-center border-b border-white/10 bg-gradient-to-br from-primary/10 to-secondary/10 relative">
                <span class="close absolute top-4 right-5 text-slate-400 hover:text-accent-light text-2xl cursor-pointer transition-colors">&times;</span>
                <h2 class="text-2xl font-semibold">Welcome Back</h2>
                <p class="text-slate-300 text-sm mt-1">Continue your NEET preparation journey</p>
            </div>
            
            <!-- Modal Body -->
            <div class="modal-body p-6 md:p-8">
                <div id="authMessage" class="auth-message hidden"></div>
                
                <form id="loginForm">
                    <div class="form-group mb-5">
                        <label for="email" class="block mb-2 text-sm font-medium text-slate-200">Email Address</label>
                        <div class="input-with-icon relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22 6 -10 13 2 6"></polyline></svg>
                            <input type="email" id="email" name="email" placeholder="Enter your email" required>
                        </div>
                    </div>
                    
                    <div class="form-group mb-5">
                        <label for="password" class="block mb-2 text-sm font-medium text-slate-200">Password</label>
                        <div class="input-with-icon relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                            <input type="password" id="password" name="password" placeholder="Enter your password" required>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-full flex items-center justify-center gap-2 px-5 py-3 rounded-lg font-semibold bg-gradient-to-r from-primary to-secondary text-white shadow-lg hover:shadow-primary/50 transition-all duration-300 transform hover:-translate-y-px mt-2 mb-4" id="loginBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg>
                        Login to Your Account
                    </button>
                </form>

                <div class="divider text-center my-6 relative">
                    <span class="absolute left-0 right-0 top-1/2 h-px bg-white/20"></span>
                    <span class="relative bg-slate-800 px-3 text-slate-400 text-sm z-10">or</span>
                </div>

                <button class="google-signin-btn w-full flex items-center justify-center gap-3 px-4 py-2.5 rounded-lg border-2 border-white/20 bg-white/5 hover:bg-white/10 transition-colors cursor-pointer" id="googleLoginBtn">
                    <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" class="w-5 h-5">
                    <span class="font-medium text-slate-200">Continue with Google</span>
                </button>
                
                <div class="signup-link text-center mt-6 text-slate-300">
                    Don't have an account? <a href="#" id="showSignup" class="font-semibold text-primary hover:underline">Sign up now</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 opacity-0 pointer-events-none invisible">
        <div class="modal-content bg-slate-800/95 backdrop-blur-xl border border-white/10 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden transform scale-95 opacity-0">
            <!-- Modal Header -->
            <div class="modal-header p-6 text-center border-b border-white/10 bg-gradient-to-br from-primary/10 to-secondary/10 relative">
                <span class="close absolute top-4 right-5 text-slate-400 hover:text-accent-light text-2xl cursor-pointer transition-colors">&times;</span>
                <h2 class="text-2xl font-semibold">Join Vidyucation</h2>
                <p class="text-slate-300 text-sm mt-1">Start your NEET preparation journey</p>
            </div>
            
            <!-- Modal Body -->
            <div class="modal-body p-6 md:p-8">
                <div id="signupMessage" class="auth-message hidden"></div>
                
                <button class="google-signin-btn w-full flex items-center justify-center gap-3 px-4 py-2.5 rounded-lg border-2 border-white/20 bg-white/5 hover:bg-white/10 transition-colors cursor-pointer mb-5" id="googleSignupBtn">
                    <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" class="w-5 h-5">
                    <span class="font-medium text-slate-200">Continue with Google</span>
                </button>
                
                <div class="divider text-center my-6 relative">
                    <span class="absolute left-0 right-0 top-1/2 h-px bg-white/20"></span>
                    <span class="relative bg-slate-800 px-3 text-slate-400 text-sm z-10">or continue with email</span>
                </div>
                
                <form id="signupForm">
                    <div class="form-group mb-5">
                        <label for="signupEmail" class="block mb-2 text-sm font-medium text-slate-200">Email Address</label>
                        <div class="input-with-icon relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22 6 -10 13 2 6"></polyline></svg>
                            <input type="email" id="signupEmail" name="email" placeholder="Enter your email" required>
                        </div>
                    </div>
                    
                    <div class="form-group mb-5">
                        <label for="signupPassword" class="block mb-2 text-sm font-medium text-slate-200">Password</label>
                        <div class="input-with-icon relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                            <input type="password" id="signupPassword" name="password" placeholder="Create a password (min. 6 characters)" required>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-full flex items-center justify-center gap-2 px-5 py-3 rounded-lg font-semibold bg-gradient-to-r from-primary to-secondary text-white shadow-lg hover:shadow-primary/50 transition-all duration-300 transform hover:-translate-y-px mt-2 mb-4" id="signupBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg>
                        Create Account
                    </button>
                </form>
                
                <div class="login-link text-center mt-6 text-slate-300">
                    Already have an account? <a href="#" id="showLogin" class="font-semibold text-primary hover:underline">Login here</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Onboarding Modal -->
    <div id="onboardingModal" class="modal fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 opacity-0 pointer-events-none invisible">
        <div class="modal-content bg-slate-800/95 backdrop-blur-xl border border-white/10 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden transform scale-95 opacity-0">
            <!-- Modal Header -->
            <div class="modal-header p-6 text-center border-b border-white/10 bg-gradient-to-br from-primary/10 to-secondary/10">
                <h2 class="text-2xl font-semibold">Welcome to Vidyucation! üéâ</h2>
                <p class="text-slate-300 text-sm mt-1">Let's set up your profile</p>
            </div>
            
            <!-- Modal Body -->
            <div class="modal-body p-6 md:p-8">
                <div id="onboardingMessage" class="auth-message hidden"></div>
                
                <form id="onboardingForm">
                    <div class="form-group mb-5">
                        <label for="userName" class="block mb-2 text-sm font-medium text-slate-200">What should we call you?</label>
                        <div class="input-with-icon relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                            <input type="text" id="userName" name="userName" placeholder="Enter your full name" required>
                        </div>
                    </div>
                    
                    <div class="form-group mb-5">
                        <label for="mobileNumber" class="block mb-2 text-sm font-medium text-slate-200">Mobile Number</label>
                        <div class="input-with-icon relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                            <input type="tel" id="mobileNumber" name="mobileNumber" placeholder="Enter your 10-digit mobile number" pattern="[0-9]{10}" required>
                        </div>
                        <small class="block mt-1.5 text-xs text-slate-400">Enter without +91 or country code</small>
                    </div>
                    
                    <div class="form-group mb-5">
                        <label for="preparationYear" class="block mb-2 text-sm font-medium text-slate-200">Target NEET Preparation Year</label>
                        <div class="relative">
                            <select id="preparationYear" name="preparationYear" class="form-group" required>
                                <option value="">Select your target year</option>
                                <option value="2026" selected>NEET 2026</option>
                                <option value="2027">NEET 2027</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-full flex items-center justify-center gap-2 px-5 py-3 rounded-lg font-semibold bg-gradient-to-r from-primary to-secondary text-white shadow-lg hover:shadow-primary/50 transition-all duration-300 transform hover:-translate-y-px mt-2" id="completeProfileBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                        Complete Profile & Continue
                    </button>
                </form>
            </div>
        </div>
    </div>


    <!-- 
      START: FIREBASE INTEGRATION 
    -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <!-- 
      END: FIREBASE INTEGRATION 
    -->


    <!-- JavaScript -->
    <script>
        // Your Firebase configuration provided by you
        const firebaseConfig = {
            apiKey: "AIzaSyD7UYp7ApLTpku2y4gAw8QprAkCNGhRsLI",
            authDomain: "quiz-app-ad5de.firebaseapp.com",
            projectId: "quiz-app-ad5de",
            storageBucket: "quiz-app-ad5de.firebasestorage.app",
            messagingSenderId: "17935383217",
            appId: "1:17935383217:web:f34559709c88a1d9670090",
            measurementId: "G-ZWVX3GZ1DX"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Simple modal and auth controller
        class VidyucationApp {
            constructor() {
                this.modals = {};
                
                // Firebase services
                this.auth = firebase.auth();
                this.db = firebase.firestore(); // Initialize Firestore
                this.googleProvider = new firebase.auth.GoogleAuthProvider();
                
                this.currentUser = null;
                
                // DOM Elements
                this.ui = {
                    loggedOutButtons: document.getElementById('loggedOutButtons'),
                    loggedInProfile: document.getElementById('loggedInProfile'),
                    userAvatar: document.getElementById('userAvatar'),
                    userNameDisplay: document.getElementById('userNameDisplay'),
                    signOutBtn: document.getElementById('signOutBtn'),
                    practiceBtn: document.querySelector('.practice-btn'),
                    // testBtn: document.querySelector('.test-btn'), // This class wasn't in the HTML, so I'm commenting it out.
                    createTestBtn: document.querySelector('.create-test-btn'),
                    
                    // Mobile Menu
                    mobileMenuBtn: document.getElementById('mobileMenuBtn'),
                    mobileMenu: document.getElementById('mobileMenu'),
                    menuIconOpen: document.getElementById('menuIconOpen'),
                    menuIconClose: document.getElementById('menuIconClose'),
                };
                
                this.init();
            }

            init() {
                console.log('üöÄ Starting Vidyucation App with Firestore...');
                this.setupModals();
                this.bindEvents();
                this.setupAuthListener(); // This is now a REAL listener
            }

            setupModals() {
                this.modals.login = {
                    el: document.getElementById('loginModal'),
                    content: document.getElementById('loginModal').querySelector('.modal-content')
                };
                this.modals.signup = {
                    el: document.getElementById('signupModal'),
                    content: document.getElementById('signupModal').querySelector('.modal-content')
                };
                this.modals.onboarding = {
                    el: document.getElementById('onboardingModal'),
                    content: document.getElementById('onboardingModal').querySelector('.modal-content')
                };
                console.log('‚úÖ Modals initialized');
            }

            bindEvents() {
                // Header buttons
                document.querySelector('.login-btn').addEventListener('click', () => this.showModal('login'));
                document.querySelector('.signup-btn').addEventListener('click', () => this.showModal('signup'));
                this.ui.signOutBtn.addEventListener('click', () => this.handleSignOut());
                
                // Mobile Menu Toggle
                this.ui.mobileMenuBtn.addEventListener('click', () => this.toggleMobileMenu());

                // Hero buttons (will be updated by auth listener)
                this.bindHeroButtons(false); // Bind to show modal initially
                
                // Test creation button (will be updated by auth listener)
                this.ui.createTestBtn.addEventListener('click', () => {
                    if (!this.currentUser) this.showModal('signup');
                    // *** FIX 1: Changed '#' to 'dashboard.html' ***
                    else window.location.href = 'dashboard.html'; // Or test creation page
                });


                // Modal links
                document.getElementById('showSignup').addEventListener('click', (e) => {
                    e.preventDefault();
                    this.showModal('signup');
                });

                document.getElementById('showLogin').addEventListener('click', (e) => {
                    e.preventDefault();
                    this.showModal('login');
                });

                // Close buttons
                document.querySelectorAll('.close').forEach(btn => {
                    btn.addEventListener('click', () => this.closeAllModals());
                });

                // Form submissions
                document.getElementById('loginForm').addEventListener('submit', (e) => this.handleLogin(e));
                document.getElementById('signupForm').addEventListener('submit', (e) => this.handleSignup(e));
                document.getElementById('onboardingForm').addEventListener('submit', (e) => this.handleOnboarding(e));

                // Google Sign In (both buttons call the same function)
                document.getElementById('googleSignupBtn').addEventListener('click', () => this.handleGoogleSignIn());
                document.getElementById('googleLoginBtn').addEventListener('click', () => this.handleGoogleSignIn());

                // Modal background clicks
                Object.values(this.modals).forEach(modal => {
                    modal.el.addEventListener('click', (e) => {
                        if (e.target === modal.el) this.closeAllModals();
                    });
                });

                console.log('‚úÖ All events bound successfully');
            }
            
            // NEW: Toggle Mobile Menu
            toggleMobileMenu() {
                const isHidden = this.ui.mobileMenu.classList.contains('hidden');
                if (isHidden) {
                    this.ui.mobileMenu.classList.remove('hidden');
                    this.ui.mobileMenu.classList.add('flex');
                    this.ui.menuIconOpen.classList.add('hidden');
                    this.ui.menuIconClose.classList.remove('hidden');
                } else {
                    this.ui.mobileMenu.classList.add('hidden');
                    this.ui.mobileMenu.classList.remove('flex');
                    this.ui.menuIconOpen.classList.remove('hidden');
                    this.ui.menuIconClose.classList.add('hidden');
                }
            }
            
            // Helper to bind hero buttons based on auth state
            bindHeroButtons(isLoggedIn) {
                const action = () => {
                    if (isLoggedIn) {
                        // *** FIX 2: Changed '#' to 'dashboard.html' ***
                        window.location.href = 'dashboard.html'; // Go to dashboard
                    } else {
                        this.showModal('login'); // Show login modal
                    }
                };
                this.ui.practiceBtn.onclick = action; // Use onclick to easily overwrite
                // this.ui.testBtn.onclick = action; // testBtn is not in the HTML
            }

            // UPDATED: showModal to use Tailwind classes for transitions
            showModal(modalName) {
                this.closeAllModals();
                if (this.modals[modalName]) {
                    const modal = this.modals[modalName];
                    modal.el.classList.remove('opacity-0', 'pointer-events-none', 'invisible');
                    modal.el.classList.add('opacity-100', 'visible');
                    
                    modal.content.classList.remove('scale-95', 'opacity-0');
                    modal.content.classList.add('scale-100', 'opacity-100');
                    
                    console.log(`üì± Opened ${modalName} modal`);
                }
            }

            // UPDATED: closeAllModals to use Tailwind classes for transitions
            closeAllModals() {
                Object.values(this.modals).forEach(modal => {
                    modal.el.classList.add('opacity-0', 'invisible');
                    modal.el.classList.remove('opacity-100', 'visible');
                    // Give it time to fade out before disabling pointer events
                    setTimeout(() => {
                        if(modal.el.classList.contains('opacity-0')) {
                             modal.el.classList.add('pointer-events-none');
                        }
                    }, 300);
                    
                    modal.content.classList.add('scale-95', 'opacity-0');
                    modal.content.classList.remove('scale-100', 'opacity-100');
                });
            }

            // UPDATED: showMessage to use Tailwind classes
            showMessage(message, type, elementId) {
                const messageEl = document.getElementById(elementId);
                if (messageEl) {
                    messageEl.textContent = message;
                    // Reset classes
                    messageEl.className = 'auth-message';
                    messageEl.classList.add('p-3', 'rounded-lg', 'mb-4', 'text-center', 'font-medium', 'border');
                    
                    if (type === 'success') {
                        messageEl.classList.add('bg-green-500/10', 'border-green-500/30', 'text-green-400');
                    } else if (type === 'error') {
                        messageEl.classList.add('bg-red-500/10', 'border-red-500/30', 'text-red-400');
                    } else {
                         messageEl.classList.add('bg-blue-500/10', 'border-blue-500/30', 'text-blue-400');
                    }
                    
                    messageEl.classList.remove('hidden'); // Show it
                    
                    setTimeout(() => {
                        messageEl.classList.add('hidden');
                    }, 5000);
                }
            }

            setButtonLoading(buttonId, loading) {
                const button = document.getElementById(buttonId);
                if (!button) return;

                if (loading) {
                    button.disabled = true;
                    button.classList.add('opacity-60', 'cursor-not-allowed');
                    const originalText = button.innerHTML;
                    button.setAttribute('data-original-text', originalText);
                    
                    // SVG Spinner
                    const spinnerIcon = '<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>';
                    
                    if (buttonId.startsWith('google')) {
                        button.innerHTML = `${spinnerIcon} <span>Connecting...</span>`;
                    } else {
                        button.innerHTML = `${spinnerIcon} <span>Loading...</span>`;
                    }
                } else {
                    button.disabled = false;
                    button.classList.remove('opacity-60', 'cursor-not-allowed');
                    const originalText = button.getAttribute('data-original-text');
                    if (originalText) {
                        button.innerHTML = originalText;
                        button.removeAttribute('data-original-text');
                    }
                }
            }

            getFriendlyAuthError(error) {
                switch (error.code) {
                    case 'auth/user-not-found':
                    case 'auth/wrong-password':
                        return 'Invalid email or password.';
                    case 'auth/email-already-in-use':
                        return 'An account with this email already exists.';
                    case 'auth/weak-password':
                        return 'Password is too weak. Must be at least 6 characters.';
                    case 'auth/invalid-email':
                        return 'Please enter a valid email address.';
                    default:
                        return error.message;
                }
            }

            async handleLogin(e) {
                e.preventDefault();
                this.setButtonLoading('loginBtn', true);
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;

                try {
                    await this.auth.signInWithEmailAndPassword(email, password);
                    console.log('User logged in successfully.');
                    // onAuthStateChanged will handle UI and modal closing
                } catch (error) {
                    console.error('Login error:', error.code, error.message);
                    this.showMessage(this.getFriendlyAuthError(error), 'error', 'authMessage');
                } finally {
                    this.setButtonLoading('loginBtn', false);
                }
            }

            async handleSignup(e) {
                e.preventDefault();
                this.setButtonLoading('signupBtn', true);
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;

                try {
                    await this.auth.createUserWithEmailAndPassword(email, password);
                    
                    this.showMessage('Account created! Please complete your profile.', 'success', 'signupMessage');
                    
                    document.getElementById('signupEmail').value = '';
                    document.getElementById('signupPassword').value = '';

                    // Show onboarding
                    this.showModal('onboarding');

                } catch (error) {
                    console.error('Signup error:', error.code, error.message);
                    this.showMessage(this.getFriendlyAuthError(error), 'error', 'signupMessage');
                } finally {
                    this.setButtonLoading('signupBtn', false);
                }
            }

            async handleGoogleSignIn() {
                this.setButtonLoading('googleSignupBtn', true);
                this.setButtonLoading('googleLoginBtn', true);
                this.showMessage('Opening Google Sign-In...', 'info', 'signupMessage');
                this.showMessage('Opening Google Sign-In...', 'info', 'authMessage');

                try {
                    const result = await this.auth.signInWithPopup(this.googleProvider);
                    const user = result.user;
                    const isNewUser = result.additionalUserInfo.isNewUser;
                    
                    console.log('Google Sign-In Success:', user);
                    this.showMessage('Sign-in successful!', 'success', 'signupMessage');

                    if (isNewUser) {
                        console.log('New user detected, showing onboarding.');
                        document.getElementById('userName').value = user.displayName || '';
                        this.showModal('onboarding');
                    } else {
                        console.log('Existing user, closing modals.');
                        this.closeAllModals();
                    }

                } catch (error) {
                    this.showMessage(`Google sign-in failed: ${error.message}`, 'error', 'signupMessage');
                    this.showMessage(`Google sign-in failed: ${error.message}`, 'error', 'authMessage');
                    console.error('Google sign-in error:', error);
                } finally {
                    this.setButtonLoading('googleSignupBtn', false);
                    this.setButtonLoading('googleLoginBtn', false);
                }
            }
            
            async handleSignOut() {
                try {
                    await this.auth.signOut();
                    console.log('User signed out successfully.');
                    // Auth listener will automatically update the UI
                } catch (error) {
                    console.error('Sign out error:', error);
                }
            }

            async handleOnboarding(e) {
                e.preventDefault();
                const userName = document.getElementById('userName').value;
                const mobileNumber = document.getElementById('mobileNumber').value;
                const preparationYear = document.getElementById('preparationYear').value;

                this.setButtonLoading('completeProfileBtn', true);

                if (!this.currentUser) {
                    this.showMessage('No user is logged in. Please sign in again.', 'error', 'onboardingMessage');
                    this.setButtonLoading('completeProfileBtn', false);
                    return;
                }
                
                if (!userName || !mobileNumber || !preparationYear) {
                    this.showMessage('Please fill in all fields.', 'error', 'onboardingMessage');
                    this.setButtonLoading('completeProfileBtn', false);
                    return;
                }

                try {
                    await this.currentUser.updateProfile({
                        displayName: userName
                    });
                    console.log('Firebase Auth profile display name updated.');
                    
                    const userDocRef = this.db.collection('users').doc(this.currentUser.uid);
                    
                    const profileData = {
                        name: userName,
                        mobile: mobileNumber,
                        targetYear: preparationYear,
                        email: this.currentUser.email,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    };
                    
                    await userDocRef.set(profileData, { merge: true }); 
                    
                    console.log('Onboarding data saved to Firestore:', profileData);
                    
                    this.showMessage('Profile completed successfully! Redirecting...', 'success', 'onboardingMessage');
                    setTimeout(() => {
                        // *** FIX 3: Changed '#' to 'dashboard.html' ***
                        window.location.href = 'dashboard.html'; // Redirect to dashboard
                    }, 1500);

                } catch (error) {
                    this.showMessage(`Error saving profile: ${error.message}`, 'error', 'onboardingMessage');
                    console.error('Onboarding Firestore/Auth error:', error);
                    this.setButtonLoading('completeProfileBtn', false);
                }
            }

            setupAuthListener() {
                this.auth.onAuthStateChanged((user) => {
                    if (user) {
                        console.log('Auth state changed: User is LOGGED IN', user);
                        this.currentUser = user;
                        this.updateUIForLoggedInUser(user);
                    } else {
                        console.log('Auth state changed: User is LOGGED OUT');
                        this.currentUser = null;
                        this.updateUIForLoggedOutUser();
                    }
                });
            }
            
            updateUIForLoggedInUser(user) {
                this.ui.loggedOutButtons.classList.add('hidden');
                this.ui.loggedInProfile.classList.remove('hidden');
                
                this.ui.userNameDisplay.textContent = user.displayName || 'NEET Aspirant';
                
                if (user.photoURL) {
                    this.ui.userAvatar.innerHTML = `<img src="${user.photoURL}" alt="${user.displayName}" class="w-full h-full object-cover">`;
                } else {
                    const initial = (user.displayName || user.email || 'N')[0].toUpperCase();
                    this.ui.userAvatar.innerHTML = `<span class="w-full h-full flex items-center justify-center text-lg">${initial}</span>`;
                }
                
                this.bindHeroButtons(true);
                
                // Close any open modals *except* onboarding
                if(this.modals.onboarding.el.classList.contains('opacity-0')) {
                    this.closeAllModals();
                }
                
                // If mobile menu is open, close it
                if (!this.ui.mobileMenu.classList.contains('hidden')) {
                    this.toggleMobileMenu();
                }
            }
            
            updateUIForLoggedOutUser() {
                this.ui.loggedOutButtons.classList.remove('hidden');
                this.ui.loggedInProfile.classList.add('hidden');
                this.ui.userNameDisplay.textContent = '';
                this.ui.userAvatar.innerHTML = '';
                
                this.bindHeroButtons(false);
                
                // If mobile menu is open, close it
                if (!this.ui.mobileMenu.classList.contains('hidden')) {
                    this.toggleMobileMenu();
                }
            }
        }

        // Initialize the app when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            window.vidyucationApp = new VidyucationApp();
        });
    </script>
</body>
</html>


