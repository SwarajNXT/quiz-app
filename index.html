<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrackPrep - NEET UG Practice Platform</title>
    
    <!-- Google Font: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
    
    <!-- JavaScript (Module for Firebase) -->
    <script src="script.js" type="module" defer></script>
</head>
<body class="loading">

    <!-- Animated Background Shapes -->
    <div class="background-shapes">
        <div class="shape shape1"></div>
        <div class="shape shape2"></div>
        <div class="shape shape3"></div>
    </div>

    <!-- Main Application Container -->
    <main class="app-container">
        
        <!-- ===================================================================== -->
        <!-- Auth Header (Sign-In / User Info)                                     -->
        <!-- ===================================================================== -->
        <header id="auth-container" class="auth-header">
            <!-- Logged Out State -->
            <div id="logged-out-view">
                <button id="google-signin-btn" class="btn btn-primary">
                    <svg class="icon" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"></path><path fill="#FF3D00" d="M6.306 14.691l6.057 4.844C14.655 15.108 18.96 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"></path><path fill="#4CAF50" d="M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238C29.211 35.091 26.715 36 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"></path><path fill="#1976D2" d="M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.021 35.596 44 30.032 44 24c0-1.341-.138-2.65-.389-3.917z"></path></svg>
                    <span>Sign in with Google</span>
                </button>
            </div>
            <!-- Logged In State -->
            <div id="logged-in-view" class="hidden">
                <p>Welcome, <span id="user-name" class="font-semibold"></span>!</p>
                <button id="logout-btn" class="btn btn-secondary">Logout</button>
            </div>
        </header>

        <!-- ===================================================================== -->
        <!-- View 1: Subject Selection (New Home Screen)                           -->
        <!-- ===================================================================== -->
        <section id="subject-selection-view" class="view active">
            <div class="glass-card text-center">
                <h1 class="title">NEET UG Practice</h1>
                <p class="subtitle">Select a subject to start practicing high-yield MCQs.</p>
                <div class="subject-grid">
                    <div class="subject-card" data-subject="Physics">
                        <h3>Physics</h3>
                        <p>Master concepts from mechanics to modern physics.</p>
                    </div>
                    <div class="subject-card" data-subject="Chemistry">
                        <h3>Chemistry</h3>
                        <p>Excel in physical, organic, and inorganic chemistry.</p>
                    </div>
                    <div class="subject-card" data-subject="Biology">
                        <h3>Biology</h3>
                        <p>Conquer botany, zoology, and human physiology.</p>
                    </div>
                </div>
                 <button id="show-admin-login-btn" class="link-btn">Admin Panel</button>
            </div>
        </section>

        <!-- ===================================================================== -->
        <!-- View 2: Chapter Selection Screen                                      -->
        <!-- ===================================================================== -->
        <section id="chapter-selection-view" class="view">
            <div class="glass-card">
                 <div class="view-header">
                    <button id="back-to-subjects-btn" class="back-btn">&larr; Back to Subjects</button>
                    <h1 id="chapter-list-title" class="title text-center">Chapters</h1>
                </div>
                <div id="quiz-list-container" class="quiz-list-container">
                    <p class="loading-text">Loading chapters...</p>
                </div>
            </div>
        </section>

        <!-- ===================================================================== -->
        <!-- View 3: Quiz Screen                                                   -->
        <!-- ===================================================================== -->
        <section id="quiz-view" class="view">
            <div class="glass-card">
                <div class="quiz-header">
                    <h2 id="quiz-title" class="quiz-title">Quiz Title</h2>
                    <div class="question-counter">
                        <span id="question-counter-current">1</span> / <span id="question-counter-total">10</span>
                    </div>
                </div>
                <div id="question-container" class="question-area">
                    <p id="question-text" class="question-text">Question text goes here...</p>
                    <div id="options-container" class="options-grid"></div>
                </div>
                <div class="quiz-footer">
                    <button id="back-to-chapters-btn" class="btn btn-secondary">Back to Chapters</button>
                    <button id="next-question-btn" class="btn btn-primary" disabled>Next</button>
                </div>
            </div>
        </section>

        <!-- ===================================================================== -->
        <!-- View 4: Results Screen                                                -->
        <!-- ===================================================================== -->
        <section id="results-view" class="view">
             <div class="glass-card text-center">
                <h1 class="title">Quiz Complete!</h1>
                <p class="subtitle">Here's your performance analysis:</p>
                <div class="score-display">
                    <p id="final-score">0/0</p>
                </div>
                <p class="score-percentage" id="score-percentage">0%</p>
                <p class="score-feedback" id="score-feedback">Keep trying!</p>
                <div class="results-actions">
                    <button id="restart-quiz-btn" class="btn btn-primary">Try Again</button>
                    <button id="return-to-chapters-btn" class="btn btn-secondary">Back to Chapters</button>
                </div>
            </div>
        </section>

        <!-- ===================================================================== -->
        <!-- View 5: Admin Login                                                   -->
        <!-- ===================================================================== -->
        <section id="admin-login-view" class="view">
            <div class="glass-card text-center">
                <h1 class="title">Admin Login</h1>
                <input type="password" id="admin-password" placeholder="Enter Admin Password" class="input-field">
                <button id="admin-login-btn" class="btn btn-primary full-width">Login</button>
                <button id="back-to-home-from-login-btn" class="link-btn">Back to Home</button>
                <p id="login-error" class="error-text"></p>
            </div>
        </section>

        <!-- ===================================================================== -->
        <!-- View 6: Admin Panel                                                   -->
        <!-- ===================================================================== -->
        <section id="admin-panel-view" class="view">
            <div class="glass-card admin-panel">
                <div class="admin-header">
                    <h1 class="title">Admin Panel</h1>
                    <button id="admin-logout-btn" class="btn btn-secondary">Logout</button>
                </div>
                <div class="admin-section">
                    <h2 class="subtitle">Create New Quiz/Chapter</h2>
                    <select id="new-quiz-subject" class="select-field">
                        <option value="Physics">Physics</option>
                        <option value="Chemistry">Chemistry</option>
                        <option value="Biology">Biology</option>
                    </select>
                    <input type="text" id="new-quiz-title" placeholder="Quiz Title (e.g., 'Microbes in Human Welfare')" class="input-field">
                    <button id="create-quiz-btn" class="btn btn-primary full-width">Create Quiz</button>
                </div>
                <div class="admin-section">
                    <h2 class="subtitle">Manage Quizzes</h2>
                    <div id="admin-quiz-list" class="admin-quiz-list-container">
                       <p class="loading-text">Loading quizzes...</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

</body>
</html>

